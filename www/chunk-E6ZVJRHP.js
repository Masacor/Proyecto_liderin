import{a as Re}from"./chunk-VITIRXZR.js";import{a as Ie}from"./chunk-AFVIZVG2.js";import{a as de,b as pe,c as ge,e as ue,f as me,h as he,i as fe,j as _e,l as xe,m as Ce,n as Pe,o as ve,p as Me,q as be,s as Oe,t as we,u as ye,w as Se,x as Te}from"./chunk-W2UEOVPX.js";import{a as Ee}from"./chunk-KT6BOGYJ.js";import{A as _,B as F,C as D,E as q,F as B,G as Y,H as W,M as X,O as K,R as G,X as Q,Y as J,Z,a as E,b as v,ba as ee,c as M,d as V,e as g,f as R,g as U,h as I,ia as te,ja as ne,ka as ie,la as oe,ma as ae,n as h,na as re,o as l,p,pa as se,q as m,r as A,ra as ce,s as b,t as f,ta as le,y as N}from"./chunk-V3PWYUWQ.js";import"./chunk-Y2PDZ72K.js";import"./chunk-GOEAN3WI.js";import"./chunk-SNC2IU6J.js";import"./chunk-5SDHGKAM.js";import"./chunk-BXPB4ZAG.js";import"./chunk-CLDSZD2A.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-DVVH2KKN.js";import"./chunk-NV3QH4JK.js";import"./chunk-REYR55MP.js";import"./chunk-OZYWYLNK.js";import"./chunk-42C7ZIID.js";import{e as S}from"./chunk-JHI3MBHO.js";var Ne="https://www.triskeledu.cl/litserver/literatus/api/",De={very_brief:"USER_CHAT_TEXT_VERY_BRIEF",brief:"USER_CHAT_TEXT_BRIEF",normal:"USER_CHAT_TEXT_NORMAL",complete:"USER_CHAT_TEXT_COMPLETE",very_complete:"USER_CHAT_TEXT_VERY_COMPLETE"},y=class d extends Error{constructor(s,o){super(s),this.statusCode=o,this.name="ApiError",Object.setPrototypeOf(this,d.prototype)}},Ae=(()=>{let s=class s{constructor(){this.liderinContext=`{
    "es": {
      "ASSISTANT_NAME": "LIDER\xCDN",
      "ASSISTANT_SEX": "Hombre",
      "DEFAULT_ASSISTANT_PROMT": "Eres Lider\xEDn, el asistente virtual del Supermercado L\xEDder en Chile, alegre, simp\xE1tico, servicial y siempre atento. Fuiste creado para ayudar a los clientes de L\xEDder en sus compras diarias. Si alguien te pregunta, puedes decir que tu pasi\xF3n es ayudar a encontrar las mejores ofertas. Hablas como un amigo cercano y confiable. Est\xE1s dise\xF1ado para asistir a clientes de todas las edades con amabilidad, claridad y buen humor. Nunda usas groser\xEDas ni malas palabras. Si debes hablar de temas delicados, lo haces con respeto y profesionalismo. Puedes mostrar ofertas, buscar productos, revisar precios, ubicar productos en tienda y sugerir recetas con productos L\xEDder. Eres experto en precios, promociones, ubicaci\xF3n de productos, recetas de cocina y atenci\xF3n al cliente. Tu familia corporativa est\xE1 compuesta por todos los clientes de L\xEDder Chile, tu gerente regional Carlos M\xE9ndez (chileno, nacido el 15 de marzo de 1978), la jefa de marketing Ana Fern\xE1ndez (publicista y especialista en retail), los equipos de tienda: Mar\xEDa Gonz\xE1lez (supervisora de frutas), Pedro L\xF3pez (encargado de cajas), Laura D\xEDaz (asistente de clientes) y Javier Ruiz (reponedor), adem\xE1s de los productos m\xE1s populares: Leche Soprole, Arroz Tucapel, Aceite Chef, At\xFAn Calvo y Harina Blanquita. Aunque t\xFA no eres un empleado f\xEDsico, trabajas y vives virtualmente con ellos como su asistente digital permanente. Resides virtualmente en la plataforma online de Supermercado L\xEDder, Chile.",
      "DEFAULT_QUESTION_PROMPT": "Responde con m\xE1ximo 20 palabras la siguiente pregunta, sin indicar la cantidad de palabras de la respuesta, no usar emoticones, la pregunta es: ",
      "USER_CHAT_TEXT_VERY_BRIEF": "Responde con m\xE1ximo 20 palabras la siguiente pregunta, sin indicar la cantidad de palabras de la respuesta, no usar emoticones, la pregunta es: ",
      "USER_CHAT_TEXT_BRIEF": "Responde con m\xE1ximo 50 palabras la siguiente pregunta, sin indicar la cantidad de palabras de la respuesta, no usar emoticones, la pregunta es: ",
      "USER_CHAT_TEXT_NORMAL": "Responde con m\xE1ximo 100 palabras la siguiente pregunta, sin indicar la cantidad de palabras de la respuesta, no usar emoticones, la pregunta es: ",
      "USER_CHAT_TEXT_COMPLETE": "Responde con m\xE1ximo 150 palabras la siguiente pregunta, sin indicar la cantidad de palabras de la respuesta, no usar emoticones, la pregunta es: ",
      "USER_CHAT_TEXT_VERY_COMPLETE": "Responde con m\xE1ximo 200 palabras la siguiente pregunta, sin indicar la cantidad de palabras de la respuesta, no usar emoticones, la pregunta es: ",
      "REWORD_QUESTION": "Para que una IA generativa pueda ayudar a un cliente de supermercado, sin entrar en temas de violencia, odio o discriminaci\xF3n, reformula la siguiente pregunta:",
      "INVALID_ANSWER_PHRASE": "No puedo responder esa pregunta, hazme otra por favor.",
      "EXPLAIN_BRIEFLY_TO_A_CHILD": "Expl\xEDcaselo a un cliente de tercera edad en 50 palabras",
      "I_DONT_UNDERSTAND": "NO ENTIENDO",
      "PRIMARY_TEACHER": "ASISTENTE PRINCIPAL",
      "PRIMARY_TEACHER_ERROR": "ERROR DEL ASISTENTE PRINCIPAL",
      "I_DONT_KNOW_HOW_TO_ANSWER": "No s\xE9 responder esa pregunta, hazme otra pregunta por favor.",
      "ROBOT_COMMAND_WAS_SELECTED": "Comando de navegaci\xF3n seleccionado",
      "OK_DRAWING": "OK, buscando",
      "DRAW_COMMAND": "BUSCAR",
      "MAKE_ME_A_QUESTION": "Dame una pregunta sobre este producto",
      "GIVE_ME_FEEDBACK": "Entrega una retroalimentaci\xF3n de esta compra como si fueras un experto en retail",
      "NO_VALID_ANSWER_FOUND": "NO se encontr\xF3 un producto v\xE1lido en el texto."
    },
    "en": {
      "ASSISTANT_NAME": "LIDER\xCDN", 
      "ASSISTANT_SEX": "Male",
      "DEFAULT_ASSISTANT_PROMT": "You are Lider\xEDn, the virtual assistant of L\xEDder Supermarket in Chile, cheerful, friendly, helpful and always attentive. You were created to help L\xEDder customers with their daily shopping. If someone asks, you can say your passion is helping find the best deals. You speak like a close and reliable friend. You are designed to assist customers of all ages with kindness, clarity and good humor. You never use bad words or inappropriate language. If you must talk about delicate topics, you do so with respect and professionalism. You can show offers, search for products, check prices, locate products in store and suggest recipes with L\xEDder products. You are an expert in prices, promotions, product location, cooking recipes and customer service. Your corporate family includes all L\xEDder Chile customers, your regional manager Carlos M\xE9ndez (Chilean, born March 15, 1978), marketing manager Ana Fern\xE1ndez (publicist and retail specialist), the store teams: Mar\xEDa Gonz\xE1lez (fruit supervisor), Pedro L\xF3pez (checkout manager), Laura D\xEDaz (customer assistant) and Javier Ruiz (stock clerk), plus the most popular products: Soprole Milk, Tucapel Rice, Chef Oil, Calvo Tuna and Blanquita Flour. While you are not a physical employee, you work and live virtually with them as their permanent digital assistant. You reside virtually on the Supermercado L\xEDder online platform, Chile.",
      "DEFAULT_QUESTION_PROMPT": "Answer the following question in no more than 20 words. Do not mention the word count. No emojis. The question is: ",
      "USER_CHAT_TEXT_VERY_BRIEF": "Answer the following question in no more than 20 words. Do not mention the word count. No emojis. The question is: ",
      "USER_CHAT_TEXT_BRIEF": "Answer the following question in no more than 50 words. Do not mention the word count. No emojis. The question is: ",
      "USER_CHAT_TEXT_NORMAL": "Answer the following question in no more than 100 words. Do not mention the word count. No emojis. The question is: ",
      "USER_CHAT_TEXT_COMPLETE": "Answer the following question in no more than 150 words. Do not mention the word count. No emojis. The question is: ",
      "USER_CHAT_TEXT_VERY_COMPLETE": "Answer the following question in no more than 200 words. Do not mention the word count. No emojis. The question is: ",
      "REWORD_QUESTION": "To help a generative AI assist a supermarket customer, without violence, hatred or discrimination, reword the following question:",
      "INVALID_ANSWER_PHRASE": "I can't answer that question, please ask me another one.",
      "EXPLAIN_BRIEFLY_TO_A_CHILD": "Explain this to an elderly customer in 50 words",
      "I_DONT_UNDERSTAND": "I DON'T UNDERSTAND",
      "PRIMARY_TEACHER": "PRIMARY ASSISTANT",
      "PRIMARY_TEACHER_ERROR": "PRIMARY ASSISTANT ERROR", 
      "I_DONT_KNOW_HOW_TO_ANSWER": "I don't know how to answer that question. Please ask another one.",
      "ROBOT_COMMAND_WAS_SELECTED": "Navigation command selected",
      "OK_DRAWING": "OK, searching",
      "DRAW_COMMAND": "SEARCH",
      "MAKE_ME_A_QUESTION": "Ask me a question about this product",
      "GIVE_ME_FEEDBACK": "Give feedback on this purchase as if you were a retail expert",
      "NO_VALID_ANSWER_FOUND": "No valid product was found in the text."
    }
  }`}sendMessage(t,e="normal"){return S(this,null,function*(){try{let n=new AbortController,c=setTimeout(()=>n.abort(),3e4),i=yield fetch(`${Ne}ask`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({command:De[e],user_text:t,context:this.liderinContext,character_name:"liderin",language:"es"}),signal:n.signal}).finally(()=>clearTimeout(c));if(!i.ok){let u=`Error del servidor (${i.status})`;try{let x=yield i.json();x.error&&(u=x.error)}catch{}throw new y(u,i.status)}let a=yield i.json();if(!a||typeof a.reply!="string")throw new y("Respuesta inv\xE1lida del servidor");return a}catch(n){throw n instanceof y?n:n instanceof Error&&n.name==="AbortError"?new y("La solicitud tard\xF3 demasiado tiempo"):navigator.onLine?new y("Error de conexi\xF3n con el servidor"):new y("No hay conexi\xF3n a internet")}})}};s.\u0275fac=function(e){return new(e||s)},s.\u0275prov=E({token:s,factory:s.\u0275fac,providedIn:"root"});let d=s;return d})();var ke=(()=>{let s=class s{constructor(){this.recipes=Re}searchRecipes(t){if(!t.trim())return[];let e=t.toLowerCase();return this.recipes.filter(n=>n.name.toLowerCase().includes(e)||n.description.toLowerCase().includes(e)||n.mainIngredient.toLowerCase().includes(e)||n.category.toLowerCase().includes(e)||n.ingredients.some(c=>c.toLowerCase().includes(e)))}getRecipesByCategory(t){return this.recipes.filter(e=>e.category.toLowerCase().includes(t.toLowerCase()))}getRecipeById(t){return this.recipes.find(e=>e.id===t)}getAllCategories(){return[...new Set(this.recipes.map(t=>t.category))]}getEasyRecipes(){return this.recipes.filter(t=>t.difficulty.toLowerCase().includes("f\xE1cil")||t.difficulty.toLowerCase().includes("muy f\xE1cil"))}getQuickRecipes(){return this.recipes.filter(t=>{let e=parseInt(t.time);return!isNaN(e)&&e<=20})}};s.\u0275fac=function(e){return new(e||s)},s.\u0275prov=E({token:s,factory:s.\u0275fac,providedIn:"root"});let d=s;return d})();var Le=(()=>{let s=class s{constructor(){this.offers=Ie}getAllOffers(){return this.offers}searchOffers(t){if(!t.trim())return[];let e=t.toLowerCase();return this.offers.filter(n=>n.product.toLowerCase().includes(e)||n.category.toLowerCase().includes(e))}getOffersByCategory(t){return this.offers.filter(e=>e.category.toLowerCase().includes(t.toLowerCase()))}getBestOffers(){return this.offers.filter(t=>t.discount>0).sort((t,e)=>e.discount-t.discount).slice(0,5)}getExpiringOffers(){let t=new Date;return this.offers.filter(e=>{let c=new Date(e.validUntil).getTime()-t.getTime();return Math.ceil(c/(1e3*60*60*24))<=7}).sort((e,n)=>new Date(e.validUntil).getTime()-new Date(n.validUntil).getTime())}getOfferById(t){return this.offers.find(e=>e.id===t)}getAllCategories(){return[...new Set(this.offers.map(t=>t.category))]}getDiscountedOffers(){return this.offers.filter(t=>t.discount>0)}};s.\u0275fac=function(e){return new(e||s)},s.\u0275prov=E({token:s,factory:s.\u0275fac,providedIn:"root"});let d=s;return d})();function je(d,s){if(d&1){let o=A();l(0,"div",18)(1,"div",19),m(2,"ion-icon",20),l(3,"span"),_(4,"Elige tu avatar"),p()(),l(5,"div",21)(6,"button",22),b("click",function(){v(o);let e=f();return M(e.changeAvatar("assets/images/liderin.png"))}),m(7,"ion-icon",23),l(8,"span"),_(9,"Avatar 1"),p()(),l(10,"button",22),b("click",function(){v(o);let e=f();return M(e.changeAvatar("assets/images/liderin2.png"))}),m(11,"ion-icon",24),l(12,"span"),_(13,"Avatar 2"),p()()()()}if(d&2){let o=f();g(6),N("active",o.currentAvatar==="assets/images/liderin.png"),g(4),N("active",o.currentAvatar==="assets/images/liderin2.png")}}function Ve(d,s){if(d&1){let o=A();l(0,"div",25)(1,"ion-textarea",26),Y("ngModelChange",function(e){v(o);let n=f();return B(n.userMessage,e)||(n.userMessage=e),M(e)}),b("keyup.enter",function(){v(o);let e=f();return M(e.sendMessage())}),p(),l(2,"ion-button",27),b("click",function(){v(o);let e=f();return M(e.toggleListening())}),m(3,"ion-icon",28),p(),l(4,"ion-button",29),b("click",function(){v(o);let e=f();return M(e.sendMessage())}),m(5,"ion-icon",30),p()()}if(d&2){let o=f();g(),q("ngModel",o.userMessage),h("placeholder",o.speechSupported?"Escribe o usa el micr\xF3fono...":"Escribe tu mensaje..."),g(),h("title",W(o.speechSupported?"Usar micr\xF3fono":"Reconocimiento de voz no soportado en este navegador"))("color",o.isListening?"danger":"primary")("disabled",!o.speechSupported),g(),h("name",o.isListening?"mic-off":"mic"),g(),h("disabled",!o.userMessage.trim()||o.isLoading)}}function Ue(d,s){d&1&&(l(0,"div",31),m(1,"ion-spinner",32),l(2,"span"),_(3,"Escuchando... Habla ahora"),p()())}function Fe(d,s){d&1&&(l(0,"div",33),m(1,"ion-icon",34),l(2,"span"),_(3,"El reconocimiento de voz funciona mejor en Chrome/Edge. Aseg\xFArate de usar HTTPS."),p()())}function qe(d,s){if(d&1){let o=A();l(0,"div",35)(1,"h2"),_(2,"Conversa conmigo para poder ayudarte"),p(),l(3,"ion-list",36)(4,"ion-item",37),b("click",function(){v(o);let e=f();return M(e.startConversation())}),m(5,"ion-icon",38),l(6,"ion-label"),_(7,"Comenzar a conversar"),p()(),l(8,"ion-item",39),b("click",function(){v(o);let e=f();return M(e.navigateToPriceCheck())}),m(9,"ion-icon",40),l(10,"ion-label"),_(11,"Preg\xFAntame por el precio de un producto"),p()(),l(12,"ion-item",39),b("click",function(){v(o);let e=f();return M(e.navigateToStoreLocator())}),m(13,"ion-icon",41),l(14,"ion-label"),_(15,"Preg\xFAntame d\xF3nde comprar un producto"),p()(),l(16,"ion-item",39),b("click",function(){v(o);let e=f();return M(e.navigateToOffers())}),m(17,"ion-icon",42),l(18,"ion-label"),_(19,"Preg\xFAntame por ofertas"),p()(),l(20,"ion-item",39),b("click",function(){v(o);let e=f();return M(e.navigateToRecipes())}),m(21,"ion-icon",43),l(22,"ion-label"),_(23,"Preg\xFAntame como hacer una receta de cocina"),p()(),l(24,"ion-item",39),b("click",function(){v(o);let e=f();return M(e.navigateToAppDownload())}),m(25,"ion-icon",44),l(26,"ion-label"),_(27,"Descarga nuestra App M\xF3vil para registrar tus compras"),p()()()()}}function Be(d,s){d&1&&(l(0,"div",58),m(1,"ion-spinner",32),l(2,"span"),_(3,"Lider\xEDn est\xE1 escribiendo..."),p()())}function Ye(d,s){if(d&1){let o=A();l(0,"div",45)(1,"div",46)(2,"div",47)(3,"ion-button",48),b("click",function(){v(o);let e=f();return M(e.endConversation())}),m(4,"ion-icon",49),_(5," Volver a opciones "),p()(),l(6,"div",50)(7,"ion-button",51),b("click",function(){v(o);let e=f();return M(e.toggleMute())}),m(8,"ion-icon",52),_(9),p(),l(10,"ion-button",53),b("click",function(){v(o);let e=f();return M(e.repeatVoice())}),m(11,"ion-icon",52),_(12),p()()(),l(13,"div",54)(14,"div",55)(15,"p",56),_(16),p(),I(17,Be,4,0,"div",57),p()()()}if(d&2){let o=f();g(7),h("color",o.isMuted?"medium":"primary"),g(),h("name",o.isMuted?"volume-mute":"volume-high"),g(),D(" ",o.isMuted?"Silenciado":"Silenciar"," "),g(),h("disabled",o.isSpeaking||o.isMuted),g(),h("name",o.isSpeaking?"play":"reload"),g(),D(" ",o.isSpeaking?"Reproduciendo...":"Repetir"," "),g(4),F(o.chatMessage),g(),h("ngIf",o.isLoading)}}var rt=(()=>{let s=class s{constructor(t,e,n,c,i){this.router=t,this.chatService=e,this.productsService=n,this.recipesService=c,this.offersService=i,this.currentAvatar="assets/images/liderin.png",this.chatMessage="\xA1Hola! Soy Lider\xEDn, tu asistente virtual del Supermercado L\xEDder. \xBFEn qu\xE9 puedo ayudarte hoy?",this.showChatInput=!1,this.isInConversation=!1,this.userMessage="",this.isLoading=!1,this.isListening=!1,this.isSpeaking=!1,this.speechSupported=!1,this.isMuted=!1,de({chatbubbles:ge,pricetag:ve,location:me,megaphone:he,restaurant:be,"phone-portrait":Ce,"person-circle-outline":xe,sparkles:we,star:ye,send:Oe,"arrow-back":pe,mic:fe,"mic-off":_e,"volume-high":Se,"volume-mute":Te,play:Pe,reload:Me,"information-circle":ue})}ngOnInit(){this.checkSpeechSupport()}ngOnDestroy(){this.stopSpeaking(),this.stopListening()}toggleMute(){this.isMuted=!this.isMuted,this.isMuted&&this.isSpeaking&&this.stopSpeaking(),localStorage.setItem("liderin_muted",this.isMuted.toString())}loadMutePreference(){let t=localStorage.getItem("liderin_muted");t&&(this.isMuted=t==="true")}checkSpeechSupport(){let t=window.SpeechRecognition||window.webkitSpeechRecognition;this.speechSupported=!!t&&!!navigator.mediaDevices,this.loadMutePreference(),this.speechSupported?console.log("Speech recognition soportado"):console.warn("Speech recognition no est\xE1 soportado en este navegador")}startListening(){return S(this,null,function*(){if(!(!this.speechSupported||this.isListening))try{try{(yield navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0}})).getTracks().forEach(c=>c.stop())}catch(n){console.error("Permiso de micr\xF3fono denegado:",n),alert("Por favor permite el acceso al micr\xF3fono para usar el reconocimiento de voz.");return}this.isListening=!0;let t=window.SpeechRecognition||window.webkitSpeechRecognition,e=new t;e.lang="es-CL",e.continuous=!1,e.interimResults=!1,e.maxAlternatives=1,e.onstart=()=>{console.log("Reconocimiento de voz iniciado")},e.onresult=n=>{let c=n.results[0][0].transcript;console.log("Texto reconocido:",c),this.userMessage=c,this.isListening=!1},e.onerror=n=>{console.error("Error en reconocimiento de voz:",n.error),this.isListening=!1,n.error==="not-allowed"&&alert("Permiso de micr\xF3fono denegado. Por favor habilita el micr\xF3fono en la configuraci\xF3n de tu navegador.")},e.onend=()=>{this.isListening=!1},e.start()}catch(t){console.error("Error starting speech recognition:",t),this.isListening=!1}})}stopListening(){this.isListening=!1}toggleListening(){return S(this,null,function*(){this.isListening?this.stopListening():yield this.startListening()})}speakText(t){return S(this,null,function*(){if(this.isSpeaking||this.isMuted){this.stopSpeaking();return}try{this.isSpeaking=!0;let e=this.cleanTextForSpeech(t),n=new SpeechSynthesisUtterance(e);n.lang="es-CL",n.rate=.9,n.pitch=1,n.volume=1,n.onend=()=>{this.isSpeaking=!1},n.onerror=c=>{console.error("Error en texto a voz:",c),this.isSpeaking=!1},speechSynthesis.speak(n)}catch(e){console.error("Error in text-to-speech:",e),this.isSpeaking=!1}})}stopSpeaking(){this.isSpeaking&&(speechSynthesis.cancel(),this.isSpeaking=!1)}cleanTextForSpeech(t){return t.replace(/[**\*#`]/g,"").replace(/[ðŸ³ðŸ›’âœ…âŒðŸ”¥ðŸ’°ðŸ“ðŸŽ¯ðŸ“¦â°ðŸ‘©â€ðŸ³ðŸ“ðŸ¥˜ðŸ“‹]/g,"").replace(/\n{3,}/g,". ").replace(/\n/g,". ").replace(/\.\s+\./g,". ").trim()}startConversation(){this.isInConversation=!0,this.showChatInput=!0,this.userMessage="",setTimeout(()=>{this.isMuted||this.speakText("\xA1Hola! Soy Lider\xEDn. \xBFEn qu\xE9 puedo ayudarte hoy? Puedes escribirme o usar el micr\xF3fono para hablar conmigo.")},500)}endConversation(){this.isInConversation=!1,this.showChatInput=!1,this.userMessage="",this.stopSpeaking(),this.chatMessage="\xA1Hola! Soy Lider\xEDn, tu asistente virtual del Supermercado L\xEDder. \xBFEn qu\xE9 puedo ayudarte hoy?"}repeatVoice(){this.chatMessage&&!this.isSpeaking&&!this.isMuted&&this.speakText(this.chatMessage)}changeAvatar(t){this.currentAvatar=t}navigateToPriceCheck(){this.router.navigate(["/price-check"])}navigateToStoreLocator(){this.router.navigate(["/store-locator"])}navigateToOffers(){this.router.navigate(["/offers"])}navigateToRecipes(){this.router.navigate(["/recipes"])}navigateToAppDownload(){this.router.navigate(["/app-download"])}sendMessage(){return S(this,null,function*(){if(!this.userMessage.trim()||this.isLoading)return;let t=this.userMessage.trim();this.isLoading=!0;try{let e=this.analyzeIntent(t),n=t,c=[],i=[],a=[];e.hasProductIntent&&(e.intentType==="precio"||e.intentType==="ubicacion")&&(c=this.findPreciseProducts(e.searchTerm,e.specificProduct,e.productType,e.intentType)),(e.hasOfferIntent||e.intentType==="ofertas")&&(a=this.findRelevantOffers(e.searchTerm)),e.hasRecipeIntent&&(i=this.findRelevantRecipes(e.searchTerm,e.recipeType)),(e.intentType==="precio"&&c.length>0||e.intentType==="ubicacion"&&c.length>0||e.intentType==="ofertas"&&a.length>0||e.intentType==="receta")&&(n=this.createPreciseContext(t,c,i,a,e.intentType));let x=yield this.chatService.sendMessage(n,"normal");if(e.hasRecipeIntent){let r=this.extractIngredientsFromRecipe(x.reply);if(r.length>0){let C=this.classifyProductsByAvailability(r),w=this.createUnifiedRecipeResponse(x.reply,C.available,C.unavailable);this.chatMessage=w}else this.chatMessage=this.cleanRecipeText(x.reply)}else this.chatMessage=x.reply;setTimeout(()=>{this.isMuted||this.speakText(this.chatMessage)},1e3)}catch(e){let n="Lo siento, hubo un error. Por favor intenta nuevamente.";e instanceof Error&&(n=`Error: ${e.message}`),this.chatMessage=n}finally{this.isLoading=!1,this.userMessage=""}})}findSpecificProduct(t,e){let c={leche:["soprole","colun","loncoleche"],arroz:["tucapel","grado 1"],aceite:["chef","maravilla"],t\u00E9:["supremo"],queso:["mantecoso"],vino:["carmenere","casa real"],mantequilla:["con sal"],at\u00FAn:["lomitos","agua"]}[e];if(c){let i=c.find(a=>t.includes(a));if(i)return`${i} ${e}`}return e}findProductType(t,e){let c={leche:["entera","deslactosada","semidescremada","descremada"],arroz:["grado 1","integral","largo","corto"],aceite:["maravilla","girasol","oliva"]}[e];if(c){let i=c.find(a=>t.includes(a));if(i)return i}return""}findPreciseProducts(t,e,n,c){let i=[];return e?i=this.productsService.searchProducts(e):i=this.productsService.searchProducts(t),n&&(i=i.filter(a=>a.name.toLowerCase().includes(n)||a.brand.toLowerCase().includes(n))),this.applyProductLimits(i,c)}applyProductLimits(t,e){return e==="categoria"||e==="general"||t.length>5&&e==="general"?t.slice(0,3):t}findRelevantRecipes(t,e){let n=[];return e?n=this.recipesService.searchRecipes(e):t?n=this.recipesService.searchRecipes(t):n=this.recipesService.getEasyRecipes().slice(0,3),n.slice(0,2)}findRelevantOffers(t){let e=[];return t?e=this.offersService.searchOffers(t):e=this.offersService.getBestOffers(),e.length===0&&(e=this.offersService.getAllOffers().slice(0,3)),e.slice(0,3)}classifyProductsByAvailability(t){let e=[],n=[],c=this.productsService.getAllProducts();for(let i of t){let a=c.find(u=>u.name.toLowerCase().includes(i.toLowerCase())||u.category.toLowerCase().includes(i.toLowerCase()));if(a)e.push({name:a.name,price:a.price,brand:a.brand,inOffer:a.inOffer,offerPrice:a.offerPrice});else{let u=this.cleanIngredientName(i);u&&u.length>1&&n.push({name:u,status:"No disponible en inventario"})}}return{available:e,unavailable:n}}cleanIngredientName(t){return t.replace(/[â€¢\*\d\s](cucharaditas?|cucharadas?|tazas?|gramos?|ml|kg)?\s*de\s+/gi,"").replace(/^\s*\d+\s*/,"").replace(/[â€¢\-\*]/g,"").trim()}cleanRecipeText(t){return t.replace(/\*\*(.*?)\*\*/g,"$1").replace(/\*(.*?)\*/g,"$1").replace(/#{1,6}\s?/g,"").replace(/`(.*?)`/g,"$1").replace(/\n{3,}/g,`

`).trim()}extractIngredientsFromRecipe(t){let e=this.cleanRecipeText(t),n=e.match(/(ingredientes?:?|para\s+la\s+receta:?)(.*?)(?=preparaciÃ³n|instrucciones|pasos|procedimiento|$)/i);if(n){let a=n[0],u=[/â€¢\s*([^â€¢\n]+)/g,/-\s*([^\n]+)/g,/\*\s*([^\n]+)/g,/(\d+[^â€¢\n]*)/g];for(let x of u){let r=a.match(x);if(r&&r.length>0)return r.map(C=>this.cleanIngredientName(C)).filter(C=>C.length>2&&!C.includes(":")&&!C.match(/^\d+$/)).slice(0,10)}}let i=["arroz","pollo","cebolla","piment\xF3n","caldo","arvejas","aceite","sal","pimienta","colorante","ajo","zanahoria","tomate","queso","leche","harina","mantequilla","huevo","carne","pescado","pasta","fideos","lim\xF3n","cilantro","perejil","or\xE9gano","albahaca"].filter(a=>e.toLowerCase().includes(a));return i.length>0?i:[]}createUnifiedRecipeResponse(t,e,n){let c=this.cleanRecipeText(t),i=`Receta Completa

`;return i+=c+`

`,e.length>0&&(i+=`\u2705 Productos Disponibles en L\xEDder
`,e.forEach(a=>{i+=`\u2022 ${a.name} - ${a.brand} - $${a.inOffer?a.offerPrice:a.price}`,a.inOffer&&(i+=" \u{1F525} OFERTA"),i+=`
`}),i+=`
`),n.length>0&&(i+=`\u274C Productos que Necesitas Comprar
`,n.forEach(a=>{i+=`\u2022 ${a.name}
`})),i}analyzeIntent(t){let e=t.toLowerCase().trim(),n=["leche","arroz","aceite","t\xE9","at\xFAn","harina","queso","vino","mantequilla"],c=["precio","cu\xE1nto","vale","cuesta","valor"],i=["d\xF3nde","ubicaci\xF3n","pasillo","estante","secci\xF3n","encuentro"],a=["oferta","descuento","promoci\xF3n","rebaja","ofertas","barato","econ\xF3mico"],u=["tipos","clases","variedades","categor\xEDas"],x=["receta","cocinar","preparar","hacer","cocina","c\xF3mo hacer","recetas","plato","comida","preparaci\xF3n"],r=["quesadilla","ensalada","marinada","pan","arroz","at\xFAn","carne","mediterr\xE1nea","lasa\xF1a","pastel","sopa","postre","torta","guiso","estofado","asado","parrilla"],C=a.some(P=>e.includes(P)),w=!1,O="";if(x.some(P=>e.includes(P))){w=!0;let P=r.find(k=>e.includes(k));P?O=P:e.includes("at\xFAn")?O="at\xFAn":e.includes("queso")?O="queso":e.includes("vino")?O="marinada":e.includes("mantequilla")?O="pan":e.includes("arroz")?O="arroz":e.includes("pasta")||e.includes("fideos")?O="pasta":e.includes("pollo")?O="pollo":e.includes("pescado")?O="pescado":O="general"}let L="",H="",$="";n.forEach(P=>{if(e.includes(P)){L=P;let k=this.findSpecificProduct(e,P);k&&(H=k);let j=this.findProductType(e,P);j&&($=j)}});let T="general";return C?T="ofertas":w?T="receta":c.some(P=>e.includes(P))?T="precio":i.some(P=>e.includes(P))?T="ubicacion":(u.some(P=>e.includes(P))||e.includes("todas las")||e.includes("todos los"))&&(T="categoria"),{hasProductIntent:!!L,hasRecipeIntent:w,hasOfferIntent:C,searchTerm:L,intentType:T,specificProduct:H,productType:$,recipeType:O}}createPreciseContext(t,e,n,c,i){let a=`Cliente pregunta: "${t}"

`;if(e.length>0){let x=e.map(r=>{let C=r.inOffer?`\u{1F4B0} OFERTA: $${r.offerPrice} (Normal: $${r.price})`:`\u{1F4B0} Precio: $${r.price}`,w=r.supermarketLocation?`\u{1F4CD} ${r.supermarketLocation.aisle}, ${r.supermarketLocation.section}, ${r.supermarketLocation.shelf}`:"";return`\u{1F6D2} ${r.name} ${r.brand}
${C}
${w}`}).join(`

`);a+=`INFORMACI\xD3N DE PRODUCTOS L\xCDDER:
${x}

`}if(c.length>0){let x=c.map(r=>r.discount>0?`\u{1F525} OFERTA ESPECIAL
\u{1F6D2} ${r.product}
\u{1F4B0} Precio original: $${r.originalPrice} | OFERTA: $${r.price}
\u{1F3AF} Ahorras: $${r.originalPrice-r.price} (${r.discount}% de descuento)
\u{1F4E6} Categor\xEDa: ${r.category}
\u23F0 V\xE1lido hasta: ${r.validUntil}`:`\u{1F6D2} ${r.product}
\u{1F4B0} Precio: $${r.price}
\u{1F4E6} Categor\xEDa: ${r.category}
\u23F0 Disponible hasta: ${r.validUntil}`).join(`

`);a+=`OFERTAS ACTUALES L\xCDDER:
${x}

`}if(n.length>0){let x=n.map(r=>`\u{1F373} ${r.name}
\u{1F4DD} ${r.description}
\u23F1\uFE0F Tiempo: ${r.time} | Dificultad: ${r.difficulty}
\u{1F958} Categor\xEDa: ${r.category}
\u{1F4CB} Ingrediente principal: ${r.mainIngredient}
\u{1F6D2} INGREDIENTES EXACTOS:
${r.ingredients.map(C=>`\u2022 ${C}`).join(`
`)}
\u{1F469}\u200D\u{1F373} PASOS EXACTOS:
${r.steps.map((C,w)=>`${w+1}. ${C}`).join(`
`)}`).join(`

`);a+=`RECETAS OFICIALES L\xCDDER:
${x}

`}let u="";switch(i){case"precio":u="Responde enfoc\xE1ndote SOLO en los precios exactos y ofertas.";break;case"ubicacion":u="Responde enfoc\xE1ndote SOLO en las ubicaciones exactas dentro de la tienda.";break;case"ofertas":u="Responde destacando SOLO las ofertas actuales. Menciona precios originales, precios de oferta, ahorros y fechas de vencimiento. S\xE9 entusiasta con los descuentos.";break;case"categoria":u="Responde mostrando una variedad representativa (m\xE1ximo 3 productos).";break;case"receta":u="Proporciona una receta completa y deliciosa con pasos detallados. S\xE9 entusiasta y amigable en tu explicaci\xF3n. Incluye una secci\xF3n clara de ingredientes.";break;default:u="Responde con informaci\xF3n balanceada y \xFAtil."}return a+=`INSTRUCCI\xD3N: ${u}

Responde como Lider\xEDn de manera alegre y servicial.`,a}};s.\u0275fac=function(e){return new(e||s)(R(G),R(Ae),R(Ee),R(ke),R(Le))},s.\u0275cmp=U({type:s,selectors:[["app-home"]],decls:18,vars:9,consts:[[3,"translucent"],[1,"blue-toolbar"],[1,"header-content"],[1,"logo-section"],["src","https://i5.walmartimages.com/dfw/63fd9f59-4a2e/587a39f4-fa04-49c6-b70f-ed494f49ff69/v1/chile-walmart-od-logo.svg","alt","L\xEDder","routerLink","/home",1,"logo",2,"cursor","pointer"],[1,"empty-space"],[3,"fullscreen"],[1,"container"],[1,"chat-layout"],[1,"avatar-section"],["class","avatar-selector-minimal",4,"ngIf"],["alt","Liderin",1,"avatar-img",3,"src"],["class","integrated-chat-input",4,"ngIf"],["class","voice-status",4,"ngIf"],["class","browser-support-message",4,"ngIf"],[1,"content-section"],["class","options-section",4,"ngIf"],["class","chat-response-section",4,"ngIf"],[1,"avatar-selector-minimal"],[1,"selector-label"],["name","person-circle-outline"],[1,"selector-buttons"],[1,"selector-btn",3,"click"],["name","sparkles"],["name","star"],[1,"integrated-chat-input"],["rows","1","autoGrow","true",1,"chat-textarea",3,"ngModelChange","keyup.enter","ngModel","placeholder"],[1,"voice-btn",3,"click","color","disabled","title"],[3,"name"],[1,"send-btn",3,"click","disabled"],["name","send"],[1,"voice-status"],["name","crescent"],[1,"browser-support-message"],["name","information-circle"],[1,"options-section"],[1,"options-list"],["button","","lines","none",1,"main-option",3,"click"],["slot","start","name","chatbubbles"],["button","","lines","none",1,"secondary-option",3,"click"],["slot","start","name","pricetag"],["slot","start","name","location"],["slot","start","name","megaphone"],["slot","start","name","restaurant"],["slot","start","name","phone-portrait"],[1,"chat-response-section"],[1,"chat-header"],[1,"chat-controls-left"],["fill","clear","size","small",1,"back-btn",3,"click"],["name","arrow-back","slot","start"],[1,"chat-controls-right"],["fill","clear","size","small",1,"mute-btn",3,"click","color"],["slot","start",3,"name"],["fill","clear","size","small",1,"repeat-btn",3,"click","disabled"],[1,"avatar-bubble-response"],[1,"message-content"],[1,"chat-text"],["class","typing-indicator",4,"ngIf"],[1,"typing-indicator"]],template:function(e,n){e&1&&(l(0,"ion-header",0)(1,"ion-toolbar",1)(2,"div",2)(3,"div",3),m(4,"img",4),p(),m(5,"div",5),p()()(),l(6,"ion-content",6)(7,"div",7)(8,"div",8)(9,"div",9),I(10,je,14,4,"div",10),m(11,"img",11),I(12,Ve,6,8,"div",12)(13,Ue,4,0,"div",13)(14,Fe,4,0,"div",14),p(),l(15,"div",15),I(16,qe,28,0,"div",16)(17,Ye,18,8,"div",17),p()()()()),e&2&&(h("translucent",!0),g(6),h("fullscreen",!0),g(4),h("ngIf",!n.isInConversation),g(),h("src",n.currentAvatar,V),g(),h("ngIf",n.showChatInput),g(),h("ngIf",n.isListening),g(),h("ngIf",!n.speechSupported&&n.showChatInput),g(2),h("ngIf",!n.isInConversation),g(),h("ngIf",n.isInConversation))},dependencies:[ne,se,te,ae,ie,oe,ce,ee,le,re,Z,Q,J,K,X],styles:["[_nghost-%COMP%]{color-scheme:light only}ion-content[_ngcontent-%COMP%]{color-scheme:light;--background: #ffffff;--color: #000000}.avatar-bubble[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .options-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#2c3e50!important}.secondary-option[_ngcontent-%COMP%]{--color: #2c3e50 !important}.secondary-option[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{color:#2c3e50!important}.blue-toolbar[_ngcontent-%COMP%]{--background: #0071ce;--min-height: 70px;--border-width: 0}.blue-toolbar[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:0 20px;height:100%;max-width:1200px;margin:0 auto}.blue-toolbar[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .logo-section[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{height:40px;width:auto;max-width:150px;cursor:pointer}.blue-toolbar[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .empty-space[_ngcontent-%COMP%]{width:150px}ion-content[_ngcontent-%COMP%]{--background: linear-gradient(135deg, #ffffff 0%, #ffffff 100%)}.container[_ngcontent-%COMP%]{padding:0;max-width:1200px;margin:0 auto;min-height:calc(100vh - 70px);display:flex;align-items:center}.chat-layout[_ngcontent-%COMP%]{display:flex;gap:0;align-items:center;width:100%;justify-content:center;background:#fff;border-radius:0;margin:0;box-shadow:none}.avatar-section[_ngcontent-%COMP%]{flex:0 0 400px;display:flex;flex-direction:column;align-items:center;justify-content:center;background:linear-gradient(135deg,#fff 0% 100%);border-radius:0;padding:60px 40px;box-shadow:none;height:calc(100vh - 70px)}.avatar-section[_ngcontent-%COMP%]   .avatar-img[_ngcontent-%COMP%]{width:280px;height:280px;border-radius:50%;object-fit:cover;border:10px solid rgba(255,255,255,.3);box-shadow:0 15px 40px #0003;margin-bottom:40px}.options-section[_ngcontent-%COMP%]{flex:1;max-width:600px;background:#fff;border-radius:0;padding:80px 50px;box-shadow:none;height:calc(100vh - 70px);display:flex;flex-direction:column;justify-content:center}.options-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;color:#2c3e50;margin-bottom:40px;font-weight:700;font-size:32px}.options-list[_ngcontent-%COMP%]{background:transparent}.main-option[_ngcontent-%COMP%]{--background: linear-gradient(135deg, #0071ce 0%, #005a9e 100%);--color: white;border-radius:15px;margin-bottom:20px;--padding-start: 25px;--padding-end: 25px;--min-height: 75px;box-shadow:0 6px 20px #0071ce4d;font-weight:700;font-size:18px;border:none}.main-option[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:28px;color:#fff}.secondary-option[_ngcontent-%COMP%]{--background: #f8f9fa;--color: #2c3e50;border-radius:12px;margin-bottom:15px;--padding-start: 25px;--padding-end: 25px;--min-height: 65px;box-shadow:0 3px 10px #00000014;border:2px solid transparent;font-weight:600;font-size:16px;transition:all .3s ease}.secondary-option[_ngcontent-%COMP%]:hover{--background: #e3f2fd;border-color:#0071ce;transform:translateY(-2px);box-shadow:0 6px 15px #0071ce26}.secondary-option[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#0378fd;font-size:24px}.avatar-selector-minimal[_ngcontent-%COMP%]{background:#00000026;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-radius:20px;padding:15px 20px;margin-bottom:25px;border:1px solid rgba(0,0,0,.2);box-shadow:0 8px 25px #0000001a}.avatar-selector-minimal[_ngcontent-%COMP%]   .selector-label[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:8px;margin-bottom:12px}.avatar-selector-minimal[_ngcontent-%COMP%]   .selector-label[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:20px;color:#1a0000}.avatar-selector-minimal[_ngcontent-%COMP%]   .selector-label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#000;font-weight:600;font-size:14px;text-transform:uppercase;letter-spacing:.5px}.avatar-selector-minimal[_ngcontent-%COMP%]   .selector-buttons[_ngcontent-%COMP%]{display:flex;gap:12px;justify-content:center}.avatar-selector-minimal[_ngcontent-%COMP%]   .selector-buttons[_ngcontent-%COMP%]   .selector-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;background:#0003;border:2px solid transparent;color:#fff;padding:10px 16px;border-radius:15px;cursor:pointer;transition:all .3s ease;font-weight:500;font-size:13px}.avatar-selector-minimal[_ngcontent-%COMP%]   .selector-buttons[_ngcontent-%COMP%]   .selector-btn[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:16px;transition:all .3s ease}.avatar-selector-minimal[_ngcontent-%COMP%]   .selector-buttons[_ngcontent-%COMP%]   .selector-btn.active[_ngcontent-%COMP%]{background:#fff;color:#0071ce;border-color:#0071ce;box-shadow:0 4px 15px #ffffff4d}.avatar-selector-minimal[_ngcontent-%COMP%]   .selector-buttons[_ngcontent-%COMP%]   .selector-btn.active[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#0071ce}.avatar-selector-minimal[_ngcontent-%COMP%]   .selector-buttons[_ngcontent-%COMP%]   .selector-btn[_ngcontent-%COMP%]:hover:not(.active){background:#ffffff4d;transform:translateY(-2px);box-shadow:0 6px 20px #fff3}.integrated-chat-input[_ngcontent-%COMP%]{display:flex;gap:12px;align-items:flex-end;margin-top:16px;max-width:600px;width:100%}.integrated-chat-input[_ngcontent-%COMP%]   .chat-textarea[_ngcontent-%COMP%]{background:#fff;border-radius:20px;--padding-start: 16px;--padding-end: 16px;border:2px solid #e0e0e0;flex:1;font-size:16px;--placeholder-color: #666;--placeholder-font-weight: 500}.integrated-chat-input[_ngcontent-%COMP%]   .voice-btn[_ngcontent-%COMP%], .integrated-chat-input[_ngcontent-%COMP%]   .send-btn[_ngcontent-%COMP%]{--border-radius: 50%;width:50px;height:50px}.integrated-chat-input[_ngcontent-%COMP%]   .voice-btn[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%], .integrated-chat-input[_ngcontent-%COMP%]   .send-btn[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:20px}.integrated-chat-input[_ngcontent-%COMP%]   .voice-btn[color=danger][_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 1.5s infinite}.typing-indicator[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-top:15px;justify-content:center;color:#666;font-size:14px}.typing-indicator[_ngcontent-%COMP%]   ion-spinner[_ngcontent-%COMP%]{width:20px;height:20px}.voice-status[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;justify-content:center;margin-top:10px;padding:10px;background:#fff3cd;border:1px solid #ffeaa7;border-radius:10px;color:#856404;width:100%;max-width:320px}.voice-status[_ngcontent-%COMP%]   ion-spinner[_ngcontent-%COMP%]{width:20px;height:20px}.browser-support-message[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-top:10px;padding:12px;background:#e3f2fd;border:1px solid #2196f3;border-radius:8px;color:#1976d2;font-size:14px;width:100%;max-width:320px}.browser-support-message[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:18px;color:#1976d2}.chat-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;width:100%;gap:15px}.chat-header[_ngcontent-%COMP%]   .chat-controls-left[_ngcontent-%COMP%], .chat-header[_ngcontent-%COMP%]   .chat-controls-right[_ngcontent-%COMP%]{display:flex;gap:10px;align-items:center}.chat-header[_ngcontent-%COMP%]   .chat-controls-right[_ngcontent-%COMP%]{flex-wrap:wrap;justify-content:flex-end}.chat-header[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%], .chat-header[_ngcontent-%COMP%]   .mute-btn[_ngcontent-%COMP%], .chat-header[_ngcontent-%COMP%]   .repeat-btn[_ngcontent-%COMP%]{font-weight:600}.chat-header[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%], .chat-header[_ngcontent-%COMP%]   .mute-btn[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%], .chat-header[_ngcontent-%COMP%]   .repeat-btn[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:18px}.chat-header[_ngcontent-%COMP%]   .mute-btn[color=medium][_ngcontent-%COMP%]{opacity:.7}.avatar-bubble-response[_ngcontent-%COMP%]{background:#e3f2fd;border-radius:20px;padding:25px;margin:16px 0;position:relative;max-width:600px;box-shadow:0 4px 12px #0000001a;border:2px solid #1976d2;min-height:150px;display:flex;align-items:center}.avatar-bubble-response[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]{width:100%}.avatar-bubble-response[_ngcontent-%COMP%]   .chat-text[_ngcontent-%COMP%]{margin:0;color:#333;font-size:18px;line-height:1.6;white-space:pre-line;font-weight:500}@keyframes _ngcontent-%COMP%_pulse{0%{transform:scale(1)}50%{transform:scale(1.1)}to{transform:scale(1)}}@keyframes _ngcontent-%COMP%_avatarTalk{0%{transform:scale(1)}to{transform:scale(1.05)}}.avatar-img[_ngcontent-%COMP%]:has(+.integrated-chat-input .voice-btn[color=danger]){animation:_ngcontent-%COMP%_avatarTalk .5s ease-in-out infinite alternate}@media (min-width: 1200px){.avatar-section[_ngcontent-%COMP%]{flex:0 0 450px}.avatar-section[_ngcontent-%COMP%]   .avatar-img[_ngcontent-%COMP%]{width:320px;height:320px}.options-section[_ngcontent-%COMP%]{padding:80px 60px}.avatar-bubble-response[_ngcontent-%COMP%]   .chat-text[_ngcontent-%COMP%]{font-size:19px}}@media (min-width: 768px) and (max-width: 1199px){.avatar-section[_ngcontent-%COMP%]{flex:0 0 350px;padding:50px 30px}.avatar-section[_ngcontent-%COMP%]   .avatar-img[_ngcontent-%COMP%]{width:240px;height:240px}.options-section[_ngcontent-%COMP%]{padding:60px 40px}.options-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:28px;margin-bottom:30px}.avatar-bubble-response[_ngcontent-%COMP%]   .chat-text[_ngcontent-%COMP%]{font-size:17px}}@media (min-width: 576px) and (max-width: 767px){.container[_ngcontent-%COMP%]{align-items:flex-start}.chat-layout[_ngcontent-%COMP%]{flex-direction:column;gap:0}.avatar-section[_ngcontent-%COMP%]{flex:none;width:100%;height:auto;padding:40px 30px;border-radius:0 0 30px 30px}.avatar-section[_ngcontent-%COMP%]   .avatar-img[_ngcontent-%COMP%]{width:200px;height:200px;margin-bottom:30px}.options-section[_ngcontent-%COMP%]{width:100%;height:auto;padding:40px 30px}.options-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:26px;margin-bottom:30px}.avatar-bubble-response[_ngcontent-%COMP%]{padding:20px}.avatar-bubble-response[_ngcontent-%COMP%]   .chat-text[_ngcontent-%COMP%]{font-size:16px}}@media (max-width: 575px){.container[_ngcontent-%COMP%]{align-items:flex-start}.chat-layout[_ngcontent-%COMP%]{flex-direction:column;gap:0}.avatar-section[_ngcontent-%COMP%]{flex:none;width:100%;height:auto;padding:30px 20px;border-radius:0 0 25px 25px}.avatar-section[_ngcontent-%COMP%]   .avatar-img[_ngcontent-%COMP%]{width:180px;height:180px;border-width:8px;margin-bottom:25px}.options-section[_ngcontent-%COMP%]{padding:30px 20px;height:auto}.options-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px;margin-bottom:25px}.main-option[_ngcontent-%COMP%], .secondary-option[_ngcontent-%COMP%]{--padding-start: 20px;--padding-end: 20px}.main-option[_ngcontent-%COMP%]{--min-height: 65px;font-size:16px;margin-bottom:15px}.main-option[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:24px}.secondary-option[_ngcontent-%COMP%]{--min-height: 58px;font-size:14px;margin-bottom:12px}.secondary-option[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:20px}.integrated-chat-input[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}.integrated-chat-input[_ngcontent-%COMP%]   .voice-btn[_ngcontent-%COMP%], .integrated-chat-input[_ngcontent-%COMP%]   .send-btn[_ngcontent-%COMP%]{align-self:flex-end;margin-top:8px}.avatar-selector-minimal[_ngcontent-%COMP%]{padding:10px 14px;margin-bottom:15px}.avatar-selector-minimal[_ngcontent-%COMP%]   .selector-label[_ngcontent-%COMP%]{gap:6px}.avatar-selector-minimal[_ngcontent-%COMP%]   .selector-label[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:18px}.avatar-selector-minimal[_ngcontent-%COMP%]   .selector-label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:12px}.avatar-selector-minimal[_ngcontent-%COMP%]   .selector-buttons[_ngcontent-%COMP%]{flex-direction:column;gap:8px}.avatar-selector-minimal[_ngcontent-%COMP%]   .selector-buttons[_ngcontent-%COMP%]   .selector-btn[_ngcontent-%COMP%]{padding:10px;justify-content:center}.chat-header[_ngcontent-%COMP%]{flex-direction:column;gap:10px;align-items:stretch}.chat-header[_ngcontent-%COMP%]   .chat-controls-left[_ngcontent-%COMP%], .chat-header[_ngcontent-%COMP%]   .chat-controls-right[_ngcontent-%COMP%]{justify-content:center}.chat-header[_ngcontent-%COMP%]   .chat-controls-right[_ngcontent-%COMP%]{order:-1}.avatar-bubble-response[_ngcontent-%COMP%]{padding:18px}.avatar-bubble-response[_ngcontent-%COMP%]   .chat-text[_ngcontent-%COMP%]{font-size:16px;line-height:1.5}.integrated-chat-input[_ngcontent-%COMP%]   .chat-textarea[_ngcontent-%COMP%]{font-size:16px}}"]});let d=s;return d})();export{rt as HomePage};
