import{a as K,b as X,f as Z,k as tt,r as et,v as nt}from"./chunk-W2UEOVPX.js";import{a as ot}from"./chunk-KT6BOGYJ.js";import{A as o,B as p,C as x,E as O,F as S,G as k,L as I,M as y,O as E,S as L,W as w,X as T,Y as R,Z as F,b as _,ba as B,c as h,ca as V,da as A,e as r,ea as D,f as M,fa as j,g as b,ga as Q,h as g,ha as N,ia as z,ja as U,ka as W,la as q,n as s,na as H,o as t,oa as $,p as e,pa as Y,q as m,r as P,ra as G,s as f,sa as J,t as u}from"./chunk-V3PWYUWQ.js";import"./chunk-Y2PDZ72K.js";import"./chunk-GOEAN3WI.js";import"./chunk-SNC2IU6J.js";import"./chunk-5SDHGKAM.js";import"./chunk-BXPB4ZAG.js";import"./chunk-CLDSZD2A.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-DVVH2KKN.js";import"./chunk-NV3QH4JK.js";import"./chunk-REYR55MP.js";import"./chunk-OZYWYLNK.js";import"./chunk-42C7ZIID.js";import"./chunk-JHI3MBHO.js";function it(i,a){i&1&&(t(0,"div",15),m(1,"ion-spinner"),t(2,"p"),o(3,"Buscando ubicaciones..."),e()())}function rt(i,a){if(i&1){let n=P();t(0,"ion-button",22),f("click",function(){_(n);let d=u(2);return h(d.clearSearch())}),o(1," Nueva B\xFAsqueda "),e()}}function at(i,a){i&1&&(t(0,"div",23),m(1,"ion-icon",24),t(2,"h4"),o(3,"No se encontraron productos"),e(),t(4,"p"),o(5,"Intenta con otros t\xE9rminos de b\xFAsqueda"),e()())}function ct(i,a){if(i&1&&(t(0,"ion-chip",30),m(1,"ion-icon",31),t(2,"ion-label"),o(3),e()()),i&2){let n=u().$implicit;r(3),p(n.supermarketLocation.aisle)}}function lt(i,a){if(i&1){let n=P();t(0,"ion-card",27),f("click",function(){let d=_(n).$implicit,c=u(3);return h(c.selectProduct(d))}),t(1,"ion-card-header")(2,"ion-card-title"),o(3),e(),t(4,"ion-card-subtitle"),o(5),e()(),t(6,"ion-card-content")(7,"div",28),g(8,ct,4,1,"ion-chip",29),t(9,"p"),o(10,"Toca para ver detalles de ubicaci\xF3n"),e()()()()}if(i&2){let n=a.$implicit;r(3),p(n.name),r(2),p(n.brand),r(3),s("ngIf",n.supermarketLocation)}}function st(i,a){if(i&1&&(t(0,"div",25),g(1,lt,11,3,"ion-card",26),e()),i&2){let n=u(2);r(),s("ngForOf",n.searchResults)}}function dt(i,a){if(i&1&&(t(0,"div",16)(1,"div",17)(2,"h3"),m(3,"ion-icon",18),o(4),e(),g(5,rt,2,0,"ion-button",19),e(),g(6,at,6,0,"div",20)(7,st,2,1,"div",21),e()),i&2){let n=u();r(4),x(" ",n.searchResults.length," producto(s) encontrado(s) "),r(),s("ngIf",n.searchResults.length>0),r(),s("ngIf",n.searchResults.length===0),r(),s("ngIf",n.searchResults.length>0)}}function pt(i,a){if(i&1&&(t(0,"div",47)(1,"ion-text",48)(2,"strong"),o(3),e()()()),i&2){let n=u(2);r(3),x("\xA1OFERTA! $",n.selectedProduct.offerPrice==null?null:n.selectedProduct.offerPrice.toLocaleString("es-CL"))}}function mt(i,a){if(i&1){let n=P();t(0,"div",32)(1,"div",33)(2,"ion-button",34),f("click",function(){_(n);let d=u();return h(d.backToResults())}),m(3,"ion-icon",35),o(4," Volver "),e(),t(5,"h3"),o(6),e()(),t(7,"ion-card",36)(8,"ion-card-header")(9,"div",37)(10,"span",38),o(11),e()(),t(12,"ion-card-title"),o(13),e(),t(14,"ion-card-subtitle"),o(15),e()(),t(16,"ion-card-content")(17,"div",39)(18,"div",40)(19,"div",41),o(20,"1"),e(),t(21,"div",42)(22,"strong"),o(23,"Dir\xEDgete a:"),e(),t(24,"span",43),o(25),e()()(),t(26,"div",40)(27,"div",41),o(28,"2"),e(),t(29,"div",42)(30,"strong"),o(31,"Busca en la secci\xF3n:"),e(),t(32,"span",43),o(33),e()()(),t(34,"div",40)(35,"div",41),o(36,"3"),e(),t(37,"div",42)(38,"strong"),o(39,"Revisa el estante:"),e(),t(40,"span",43),o(41),e()()()(),t(42,"div",44),g(43,pt,4,1,"div",45),e()()(),t(44,"div",46)(45,"h4"),o(46,"\u{1F4A1} Consejos para encontrar el producto:"),e(),t(47,"ul")(48,"li"),o(49,"Busca las se\xF1ales del pasillo en el techo"),e(),t(50,"li"),o(51,"Los productos similares est\xE1n agrupados juntos"),e(),t(52,"li"),o(53,"Pregunta a un empleado si necesitas ayuda"),e()()()()}if(i&2){let n=u();r(6),x("Ubicaci\xF3n de ",n.selectedProduct.name),r(5),p(n.getAisleIcon(n.selectedProduct.supermarketLocation.aisle)),r(2),p(n.selectedProduct.name),r(2),p(n.selectedProduct.brand),r(10),p(n.selectedProduct.supermarketLocation.aisle),r(8),p(n.selectedProduct.supermarketLocation.section),r(8),p(n.selectedProduct.supermarketLocation.shelf),r(2),s("ngIf",n.selectedProduct.inOffer)}}var yt=(()=>{let a=class a{constructor(l){this.productsService=l,this.searchQuery="",this.searchResults=[],this.isLoading=!1,this.showResults=!1,this.selectedProduct=null,K({search:et,location:Z,navigate:tt,storefront:nt,arrowBack:X})}searchProductLocation(){this.searchQuery.trim()&&(this.isLoading=!0,this.showResults=!1,this.selectedProduct=null,setTimeout(()=>{this.searchResults=this.productsService.searchProducts(this.searchQuery),this.isLoading=!1,this.showResults=!0,this.searchResults.length===1&&this.selectProduct(this.searchResults[0])},800))}selectProduct(l){this.selectedProduct=l}backToResults(){this.selectedProduct=null}getAisleIcon(l){return l.includes("1")?"\u{1F95B}":l.includes("2")?"\u{1F35A}":l.includes("3")?"\u2615":l.includes("4")?"\u{1FAD2}":"\u{1F4E6}"}clearSearch(){this.searchQuery="",this.searchResults=[],this.showResults=!1,this.selectedProduct=null,this.isLoading=!1}};a.\u0275fac=function(d){return new(d||a)(M(ot))},a.\u0275cmp=b({type:a,selectors:[["app-store-locator"]],decls:19,vars:7,consts:[[3,"translucent"],[1,"blue-toolbar"],[1,"header-content"],[1,"logo-section"],["src","https://i5.walmartimages.com/dfw/63fd9f59-4a2e/587a39f4-fa04-49c6-b70f-ed494f49ff69/v1/chile-walmart-od-logo.svg","alt","L\xEDder","routerLink","/home",1,"logo",2,"cursor","pointer"],[1,"empty-space"],[3,"fullscreen"],[1,"container"],[1,"search-section"],["placeholder","Ej: Leche, Arroz, Aceite, T\xE9...",3,"ngModelChange","keyup.enter","ngModel"],["expand","block",3,"click","disabled"],["slot","start","name","search"],["class","loading",4,"ngIf"],["class","results-section",4,"ngIf"],["class","location-details",4,"ngIf"],[1,"loading"],[1,"results-section"],[1,"results-header"],["name","location"],["size","small",3,"click",4,"ngIf"],["class","no-results",4,"ngIf"],["class","products-list",4,"ngIf"],["size","small",3,"click"],[1,"no-results"],["name","map"],[1,"products-list"],["class","product-card",3,"click",4,"ngFor","ngForOf"],[1,"product-card",3,"click"],[1,"product-info"],["color","primary",4,"ngIf"],["color","primary"],["name","navigate"],[1,"location-details"],[1,"location-header"],["fill","clear",3,"click"],["slot","start","name","arrow-back"],[1,"location-card"],[1,"location-icon"],[1,"aisle-icon"],[1,"location-steps"],[1,"step"],[1,"step-number"],[1,"step-content"],[1,"step-highlight"],[1,"additional-info"],["class","price-info",4,"ngIf"],[1,"location-tips"],[1,"price-info"],["color","danger"]],template:function(d,c){d&1&&(t(0,"ion-header",0)(1,"ion-toolbar",1)(2,"div",2)(3,"div",3),m(4,"img",4),e(),m(5,"div",5),e()()(),t(6,"ion-content",6)(7,"div",7)(8,"h2"),o(9,"\xBFD\xF3nde encontrar productos en el supermercado?"),e(),t(10,"div",8)(11,"ion-item")(12,"ion-input",9),k("ngModelChange",function(C){return S(c.searchQuery,C)||(c.searchQuery=C),C}),f("keyup.enter",function(){return c.searchProductLocation()}),e()(),t(13,"ion-button",10),f("click",function(){return c.searchProductLocation()}),m(14,"ion-icon",11),o(15," Buscar Ubicaci\xF3n "),e()(),g(16,it,4,0,"div",12)(17,dt,8,4,"div",13)(18,mt,54,8,"div",14),e()()),d&2&&(s("translucent",!0),r(6),s("fullscreen",!0),r(6),O("ngModel",c.searchQuery),r(),s("disabled",!c.searchQuery.trim()),r(3),s("ngIf",c.isLoading),r(),s("ngIf",c.showResults&&!c.isLoading&&!c.selectedProduct),r(),s("ngIf",c.selectedProduct&&c.selectedProduct.supermarketLocation))},dependencies:[w,L,U,Y,z,B,J,W,V,D,Q,A,G,H,q,N,$,j,F,T,R,E,I,y],styles:['@charset "UTF-8";html[_ngcontent-%COMP%], body[_ngcontent-%COMP%], [_ngcontent-%COMP%]:root{color-scheme:light!important;forced-color-adjust:none!important;background:#fff!important;--ion-background-color: #ffffff !important;--ion-text-color: #000000 !important}body.dark[_ngcontent-%COMP%], html.dark[_ngcontent-%COMP%], [_ngcontent-%COMP%]:root.dark, .ios[_ngcontent-%COMP%]   body.dark[_ngcontent-%COMP%], .md[_ngcontent-%COMP%]   body.dark[_ngcontent-%COMP%]{--ion-background-color: #ffffff !important;--ion-text-color: #000000 !important;background:#fff!important;color:#000!important}ion-content[_ngcontent-%COMP%]{--background: #ffffff !important;background:#fff!important}.blue-toolbar[_ngcontent-%COMP%]{--background: #0071ce !important;--min-height: 70px;--border-width: 0;background:#0071ce!important}.blue-toolbar[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:0 20px;height:100%;max-width:1200px;margin:0 auto}.blue-toolbar[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .logo-section[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{height:40px;max-width:150px;cursor:pointer}.blue-toolbar[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{color:#fff!important;font-size:24px;font-weight:600}.container[_ngcontent-%COMP%]{padding:16px;max-width:600px;margin:0 auto;background:#fff!important}h2[_ngcontent-%COMP%]{text-align:center;color:#2c3e50!important;margin-bottom:24px;font-weight:600}.search-section[_ngcontent-%COMP%]{margin-bottom:24px}.search-section[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--background: #ffffff !important;--color: #000000 !important;--border-color: transparent !important;--highlight-color-focused: transparent !important;--highlight-height: 0 !important;--transition: none !important;margin-bottom:16px}.search-section[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]::part(container){background:#fff!important}.search-section[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{--background: #ffffff !important;--color: #000000 !important;--placeholder-color: #666666 !important;--placeholder-opacity: 1 !important;--highlight-color-focused: #000000 !important;color:#000!important;--padding-start: 16px;--padding-end: 16px;--padding-top: 12px;--padding-bottom: 12px;border-radius:12px;box-shadow:0 2px 8px #0000001a}.search-section[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]::part(native), .search-section[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]::part(input){color:#000!important}.loading[_ngcontent-%COMP%]{text-align:center;padding:40px;background:#fff!important}.loading[_ngcontent-%COMP%]   ion-spinner[_ngcontent-%COMP%]{margin-bottom:16px;--color: #3880ff !important}.loading[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#2c3e50!important}.results-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.results-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;display:flex;align-items:center;gap:8px;color:#2c3e50!important}.no-results[_ngcontent-%COMP%]{text-align:center;padding:60px 20px;color:#7f8c8d!important;background:#fff!important}.no-results[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:64px;margin-bottom:16px;color:#bdc3c7!important}.no-results[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 8px;color:#2c3e50!important}.products-list[_ngcontent-%COMP%]{display:grid;gap:16px}.product-card[_ngcontent-%COMP%]{cursor:pointer;transition:transform .2s ease;background:#fff!important}.product-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.product-card[_ngcontent-%COMP%]   .product-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:8px 0 0;color:#7f8c8d!important}.location-details[_ngcontent-%COMP%]{background:#fff!important}.location-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:#2c3e50!important}.location-card[_ngcontent-%COMP%]{background:#fff!important}.location-steps[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;margin-bottom:20px;padding:16px;background:#fafafa!important;border-radius:12px}.step-number[_ngcontent-%COMP%]{width:32px;height:32px;background:#3880ff!important;color:#fff!important;border-radius:50%;display:flex;justify-content:center;align-items:center}.location-tips[_ngcontent-%COMP%]{margin-top:24px;padding:20px;background:#f5f5f5!important;border-radius:12px}.location-tips[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#1976d2!important}ion-card[_ngcontent-%COMP%]{background:#fff!important;color:#2c3e50!important}ion-button[_ngcontent-%COMP%]{--background: #3880ff !important;--color: white !important}ion-chip[_ngcontent-%COMP%]{--background: #3880ff !important;--color: white !important}ion-text[_ngcontent-%COMP%], p[_ngcontent-%COMP%], span[_ngcontent-%COMP%], div[_ngcontent-%COMP%], h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%], strong[_ngcontent-%COMP%], label[_ngcontent-%COMP%]{color:#2c3e50!important}@media (max-width: 768px){.container[_ngcontent-%COMP%]{padding:12px}}']});let i=a;return i})();export{yt as StoreLocatorPage};
